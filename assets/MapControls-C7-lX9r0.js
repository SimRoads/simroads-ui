import{f as He,g as Qe,h as Je,i as Xe,j as _e,k as Ye,l as Ze,n as qe,o as ve,p as Ie,u as Te,q as ne,d as et}from"./VSelect-B1224IQV.js";import{w as B,O as $,p as oe,x as I,h as F,ac as tt,a7 as ce,ad as at,ae as fe,g as ge,a6 as lt,s as W,r as Z,D as me,af as nt,u as pe,c as u,F as q,B as O,ag as ot,N as Y,ah as ut,ai as ke,H as ue,J as rt,aj as Le,ak as st,al as it,am as G,K as E,L as z,M as P,W as Me,an as ie,d as ct,e as mt,o as dt,ao as vt,ap as ft,E as gt,I as pt,aq as ht,Q as yt,a2 as _t,V as be,P as Ve,a3 as kt,ar as bt,as as Vt,at as wt,au as Ct,a0 as St,T as xt,av as Pt}from"./index-iVPC1WgH.js";import{t as le}from"./data-DHvaU8Dv.js";import{D as Ft,E as It,s as de,h as Q,V as Ae,w as Tt,b as Lt,y as Mt,A as At,z as Dt,e as Rt,C as Ot,F as Bt}from"./VAvatar-dmscyC76.js";import{u as Et,a as Kt,c as we,f as Ut}from"./VList-t7JIXIjE.js";import{V as jt}from"./VBadge-MtHYe8_s.js";import{m as Nt,u as $t,V as Ce}from"./VBtn-DlegZ2NC.js";function Se(e){return typeof e=="function"?e():$(e)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const xe=()=>{};function Wt(e,n){function t(...a){return new Promise((o,r)=>{Promise.resolve(e(()=>n.apply(this,a),{fn:n,thisArg:this,args:a})).then(o).catch(r)})}return t}const zt=e=>e();function Gt(e,n={}){let t,a,o=xe;const r=v=>{clearTimeout(v),o(),o=xe};return v=>{const c=Se(e),p=Se(n.maxWait);return t&&r(t),c<=0||p!==void 0&&p<=0?(a&&(r(a),a=null),Promise.resolve(v())):new Promise((y,s)=>{o=n.rejectOnCancel?s:y,p&&!a&&(a=setTimeout(()=>{t&&r(t),a=null,y(v())},p)),t=setTimeout(()=>{a&&r(a),a=null,y(v())},c)})}}function Ht(e,n,t={}){const{eventFilter:a=zt,...o}=t;return B(e,Wt(a,n),o)}function Qt(e,n,t={}){const{debounce:a=0,maxWait:o=void 0,...r}=t;return Ht(e,n,{...r,eventFilter:Gt(a,{maxWait:o})})}const Jt=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),Xt=oe({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Yt(e,n,t){var v;const a=[],o=(t==null?void 0:t.default)??Jt,r=t!=null&&t.filterKeys?ce(t.filterKeys):!1,f=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let c=0;c<e.length;c++){const[p,y=p]=ce(e[c]),s={},m={};let g=-1;if(n&&!(t!=null&&t.noFilter)){if(typeof p=="object"){const k=r||Object.keys(y);for(const b of k){const S=at(y,b,y),K=(v=t==null?void 0:t.customKeyFilter)==null?void 0:v[b];if(g=K?K(S,n,p):o(S,n,p),g!==-1&&g!==!1)K?s[b]=g:m[b]=g;else if((t==null?void 0:t.filterMode)==="every")continue e}}else g=o(p,n,p),g!==-1&&g!==!1&&(m.title=g);const d=Object.keys(m).length,i=Object.keys(s).length;if(!d&&!i||(t==null?void 0:t.filterMode)==="union"&&i!==f&&!d||(t==null?void 0:t.filterMode)==="intersection"&&(i!==f||!d))continue}a.push({index:c,matches:{...m,...s}})}return a}function Zt(e,n,t,a){const o=I([]),r=I(new Map),f=F(()=>a!=null&&a.transform?$(n).map(c=>[c,a.transform(c)]):$(n));tt(()=>{const c=typeof t=="function"?t():$(t),p=typeof c!="string"&&typeof c!="number"?"":String(c),y=Yt(f.value,p,{customKeyFilter:{...e.customKeyFilter,...$(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),s=$(n),m=[],g=new Map;y.forEach(d=>{let{index:i,matches:k}=d;const b=s[i];m.push(b),g.set(b.value,k)}),o.value=m,r.value=g});function v(c){return r.value.get(c.value)}return{filteredItems:o,filteredMatches:r,getMatches:v}}function qt(e,n,t){if(n==null)return e;if(Array.isArray(n))throw new Error("Multiple matches is not implemented");return typeof n=="number"&&~n?u(q,null,[u("span",{class:"v-autocomplete__unmask"},[e.substr(0,n)]),u("span",{class:"v-autocomplete__mask"},[e.substr(n,t)]),u("span",{class:"v-autocomplete__unmask"},[e.substr(n+t)])]):e}const ea=oe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Xt({filterKeys:["title"]}),...He(),...fe(Qe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ft({transition:!1})},"VAutocomplete"),ta=ge()({name:"VAutocomplete",props:ea(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=lt(),o=I(),r=W(!1),f=W(!0),v=W(!1),c=I(),p=I(),y=Z(e,"menu"),s=F({get:()=>y.value,set:l=>{var _;y.value&&!l&&((_=c.value)!=null&&_.Î¨openChildren)||(y.value=l)}}),m=W(-1),g=F(()=>{var l;return(l=o.value)==null?void 0:l.color}),d=F(()=>s.value?e.closeText:e.openText),{items:i,transformIn:k,transformOut:b}=Et(e),{textColorClasses:S,textColorStyles:K}=It(g),w=Z(e,"search",""),h=Z(e,"modelValue",[],l=>k(l===null?[null]:ce(l)),l=>{const _=b(l);return e.multiple?_:_[0]??null}),J=F(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),M=Je(),{filteredItems:H,getMatches:De}=Zt(e,i,()=>f.value?"":w.value),A=F(()=>e.hideSelected?H.value.filter(l=>!h.value.some(_=>_.value===l.value)):H.value),Re=F(()=>h.value.map(l=>l.props.value)),ee=F(()=>{var _;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===((_=A.value[0])==null?void 0:_.title))&&A.value.length>0&&!f.value&&!v.value}),re=F(()=>e.hideNoData&&!A.value.length||e.readonly||(M==null?void 0:M.isReadonly.value)),se=I(),{onListScroll:Oe,onListKeydown:Be}=Xe(se,o);function Ee(l){e.openOnClear&&(s.value=!0),w.value=""}function Ke(){re.value||(s.value=!0)}function Ue(l){re.value||(r.value&&(l.preventDefault(),l.stopPropagation()),s.value=!s.value)}function je(l){var D,V,T;if(e.readonly||M!=null&&M.isReadonly.value)return;const _=o.value.selectionStart,x=h.value.length;if((m.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(s.value=!0),["Escape"].includes(l.key)&&(s.value=!1),ee.value&&["Enter","Tab"].includes(l.key)&&U(A.value[0]),l.key==="ArrowDown"&&ee.value&&((D=se.value)==null||D.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(l.key)){if(m.value<0){l.key==="Backspace"&&!w.value&&(m.value=x-1);return}const C=m.value,R=h.value[m.value];R&&!R.props.disabled&&U(R),m.value=C>=x-1?x-2:C}if(l.key==="ArrowLeft"){if(m.value<0&&_>0)return;const C=m.value>-1?m.value-1:x-1;h.value[C]?m.value=C:(m.value=-1,o.value.setSelectionRange((V=w.value)==null?void 0:V.length,(T=w.value)==null?void 0:T.length))}if(l.key==="ArrowRight"){if(m.value<0)return;const C=m.value+1;h.value[C]?m.value=C:(m.value=-1,o.value.setSelectionRange(0,0))}}}function Ne(l){if(ke(o.value,":autofill")||ke(o.value,":-webkit-autofill")){const _=i.value.find(x=>x.title===l.target.value);_&&U(_)}}function $e(){var l;r.value&&(f.value=!0,(l=o.value)==null||l.focus())}function We(l){r.value=!0,setTimeout(()=>{v.value=!0})}function ze(l){v.value=!1}function Ge(l){(l==null||l===""&&!e.multiple)&&(h.value=[])}const X=W(!1);function U(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const x=h.value.findIndex(D=>e.valueComparator(D.value,l.value));if(x===-1)h.value=[...h.value,l];else{const D=[...h.value];D.splice(x,1),h.value=D}e.clearOnSelect&&(w.value="")}else h.value=_?[l]:[],X.value=!0,w.value=_?l.title:"",s.value=!1,f.value=!0,me(()=>X.value=!1)}return B(r,(l,_)=>{var x;l!==_&&(l?(X.value=!0,w.value=e.multiple?"":String(((x=h.value.at(-1))==null?void 0:x.props.title)??""),f.value=!0,me(()=>X.value=!1)):(!e.multiple&&w.value==null?h.value=[]:ee.value&&!v.value&&!h.value.some(D=>{let{value:V}=D;return V===A.value[0].value})&&U(A.value[0]),s.value=!1,w.value="",m.value=-1))}),B(w,l=>{!r.value||X.value||(l&&(s.value=!0),f.value=!l)}),B(s,()=>{if(!e.hideSelected&&s.value&&h.value.length){const l=A.value.findIndex(_=>h.value.some(x=>_.value===x.value));nt&&window.requestAnimationFrame(()=>{var _;l>=0&&((_=p.value)==null||_.scrollToIndex(l))})}}),B(A,(l,_)=>{r.value&&(!l.length&&e.hideNoData&&(s.value=!1),!_.length&&l.length&&(s.value=!0))}),pe(()=>{const l=!!(e.chips||t.chip),_=!!(!e.hideNoData||A.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),x=h.value.length>0,D=_e.filterProps(e);return u(_e,O({ref:o},D,{modelValue:w.value,"onUpdate:modelValue":[V=>w.value=V,Ge],focused:r.value,"onUpdate:focused":V=>r.value=V,validationValue:h.externalValue,counterValue:J.value,dirty:x,onChange:Ne,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":s.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":m.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:x?void 0:e.placeholder,"onClick:clear":Ee,"onMousedown:control":Ke,onKeydown:je}),{...t,default:()=>u(q,null,[u(Ye,O({ref:c,modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,activator:"parent",contentClass:"v-autocomplete__content",disabled:re.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:$e},e.menuProps),{default:()=>[_&&u(Kt,O({ref:se,selected:Re.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:V=>V.preventDefault(),onKeydown:Be,onFocusin:We,onFocusout:ze,onScrollPassive:Oe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var V,T,C;return[(V=t["prepend-item"])==null?void 0:V.call(t),!A.value.length&&!e.hideNoData&&(((T=t["no-data"])==null?void 0:T.call(t))??u(we,{title:a(e.noDataText)},null)),u(Ze,{ref:p,renderless:!0,items:A.value},{default:R=>{var ye;let{item:L,index:j,itemRef:N}=R;const he=O(L.props,{ref:N,key:j,active:ee.value&&j===0?!0:void 0,onClick:()=>U(L)});return((ye=t.item)==null?void 0:ye.call(t,{item:L,index:j,props:he}))??u(we,he,{prepend:te=>{let{isSelected:ae}=te;return u(q,null,[e.multiple&&!e.hideSelected?u(qe,{key:L.value,modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0,L.props.prependAvatar&&u(de,{image:L.props.prependAvatar},null),L.props.prependIcon&&u(Q,{icon:L.props.prependIcon},null)])},title:()=>{var te,ae;return f.value?L.title:qt(L.title,(te=De(L))==null?void 0:te.title,((ae=w.value)==null?void 0:ae.length)??0)}})}}),(C=t["append-item"])==null?void 0:C.call(t)]}})]}),h.value.map((V,T)=>{function C(N){N.stopPropagation(),N.preventDefault(),U(V,!1)}const R={"onClick:close":C,onMousedown(N){N.preventDefault(),N.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},L=l?!!t.chip:!!t.selection,j=L?ot(l?t.chip({item:V,index:T,props:R}):t.selection({item:V,index:T})):void 0;if(!(L&&!j))return u("div",{key:V.value,class:["v-autocomplete__selection",T===m.value&&["v-autocomplete__selection--selected",S.value]],style:T===m.value?K.value:{}},[l?t.chip?u(Ae,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:V.title}}},{default:()=>[j]}):u(Ut,O({key:"chip",closable:e.closableChips,size:"small",text:V.title,disabled:V.props.disabled},R),null):j??u("span",{class:"v-autocomplete__selection-text"},[V.title,e.multiple&&T<h.value.length-1&&u("span",{class:"v-autocomplete__selection-comma"},[Y(",")])])])})]),"append-inner":function(){var R;for(var V=arguments.length,T=new Array(V),C=0;C<V;C++)T[C]=arguments[C];return u(q,null,[(R=t["append-inner"])==null?void 0:R.call(t,...T),e.menuIcon?u(Q,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Ue,onClick:ut,"aria-label":a(d.value),title:a(d.value)},null):void 0])}})}),ve({isFocused:r,isPristine:f,menu:s,search:w,filteredItems:H,select:U},o)}}),aa=ue({__name:"SearchControl",setup(e){const n=I(!1),t=I(""),a=rt(),o=I([]),r=I(null),f=Le();return Promise.all([st("search"),it(()=>import("./index-u87y8BUV.js"),__vite__mapDeps([]))]).then(([v,c])=>{const p=new c.default({fields:["title","subtitle"],storeFields:["id","refId","title","subtitle","append-icon"],searchOptions:{fuzzy:.2,boost:{title:2}}}),y=async s=>{n.value=!1,p.removeAll();const m=s.map(g=>{const d=[le(g.subtitle),[le(g.city),le(g.country)].filter(Boolean).join(", ")].filter(Boolean).join(" - ");let i="mdi-map-marker";switch(g.type){case"city":i="mdi-city";break;case"country":i="mdi-earth"}return{...g,title:le(g.title),subtitle:d,"append-icon":i}});await p.addAllAsync(m),n.value=!0};y(v),B(a.locale,()=>{y(v)}),Qt(t,async s=>{if(s.length<3){o.value=[];return}n.value=!1,o.value=p.search(s).slice(0,5),n.value=!0},{debounce:500})}),B(r,v=>{v&&f.push({name:"overlay",params:{prefab:v.refId,id:v.id}})}),(v,c)=>{const p=G("mgl-custom-control");return E(),z(p,{position:"top-left"},{default:P(()=>[u(ta,{loading:!n.value,density:"compact",variant:"solo","menu-icon":"",placeholder:v.$t("search"),"append-inner-icon":"mdi-magnify","single-line":"","hide-details":"",class:"search-bar",items:o.value,"auto-select-first":"","no-filter":"",search:t.value,"onUpdate:search":c[0]||(c[0]=y=>t.value=y),"list-props":{nav:!0,density:"compact"},"item-props":"",tile:"","menu-props":{contentClass:"search-bar",transition:"fade-transition",offset:[5,-1]},"hide-no-data":"","return-object":"",modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=y=>r.value=y)},null,8,["loading","placeholder","items","search","modelValue"])]),_:1})}}}),la=ue({__name:"RoutePin",props:{me:{},markers:{},cursor:{}},setup(e){const n=e,t=F(()=>n.markers.value.indexOf(n.me));return(a,o)=>(E(),Me("div",null,[t.value==0?(E(),z(de,{key:0,style:ie({cursor:n.cursor.value}),color:"primary",size:32},{default:P(()=>[u(Q,{icon:"mdi-flag"})]),_:1},8,["style"])):t.value==a.markers.value.length-1?(E(),z(de,{key:1,style:ie({cursor:n.cursor.value}),color:"primary",size:32},{default:P(()=>[u(Q,{icon:"mdi-flag-checkered"})]),_:1},8,["style"])):(E(),z(jt,{key:2,style:ie({cursor:n.cursor.value}),color:"primary",content:t.value},null,8,["style","content"]))]))}});function na(e){const n=W(e);let t=-1;function a(){clearInterval(t)}function o(){a(),me(()=>n.value=e)}function r(f){const v=f?getComputedStyle(f):{transitionDuration:.2},c=parseFloat(v.transitionDuration)*1e3||200;if(a(),n.value<=0)return;const p=performance.now();t=window.setInterval(()=>{const y=performance.now()-p+c;n.value=Math.max(e-y,0),n.value<=0&&a()},c)}return ft(a),{clear:a,time:n,start:r,reset:o}}const oa=oe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Tt({location:"bottom"}),...Nt(),...Lt(),...Mt(),...ct(),...fe(Ie({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Pe=ge()({name:"VSnackbar",props:oa(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=Z(e,"modelValue"),{locationStyles:o}=At(e),{positionClasses:r}=$t(e),{scopeId:f}=Te(),{themeClasses:v}=mt(e),{colorClasses:c,colorStyles:p,variantClasses:y}=Dt(e),{roundedClasses:s}=Rt(e),m=na(Number(e.timeout)),g=I(),d=I(),i=W(!1);B(a,b),B(()=>e.timeout,b),dt(()=>{a.value&&b()});let k=-1;function b(){m.reset(),window.clearTimeout(k);const h=Number(e.timeout);if(!a.value||h===-1)return;const J=vt(d.value);m.start(J),k=window.setTimeout(()=>{a.value=!1},h)}function S(){m.reset(),window.clearTimeout(k)}function K(){i.value=!0,S()}function w(){i.value=!1,b()}return pe(()=>{const h=ne.filterProps(e),J=!!(t.default||t.text||e.text);return u(ne,O({ref:g,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},r.value,e.class],style:e.style},h,{modelValue:a.value,"onUpdate:modelValue":M=>a.value=M,contentProps:O({class:["v-snackbar__wrapper",v.value,c.value,s.value,y.value],style:[o.value,p.value],onPointerenter:K,onPointerleave:w},h.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},f),{default:()=>{var M,H;return[Ot(!1,"v-snackbar"),e.timer&&!i.value&&u("div",{key:"timer",class:"v-snackbar__timer"},[u(Bt,{ref:d,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":m.time.value},null)]),J&&u("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((M=t.text)==null?void 0:M.call(t))??e.text,(H=t.default)==null?void 0:H.call(t)]),t.actions&&u(Ae,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[u("div",{class:"v-snackbar__actions"},[t.actions()])]})]},activator:t.activator})}),ve({},g)}}),ua=oe({id:String,text:String,...fe(Ie({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Fe=ge()({name:"VTooltip",props:ua(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=Z(e,"modelValue"),{scopeId:o}=Te(),r=gt(),f=F(()=>e.id||`v-tooltip-${r}`),v=I(),c=F(()=>e.location.split(" ").length>1?e.location:e.location+" center"),p=F(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),y=F(()=>e.transition?e.transition:a.value?"scale-transition":"fade-transition"),s=F(()=>O({"aria-describedby":f.value},e.activatorProps));return pe(()=>{const m=ne.filterProps(e);return u(ne,O({ref:v,class:["v-tooltip",e.class],style:e.style,id:f.value},m,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,transition:y.value,absolute:!0,location:c.value,origin:p.value,persistent:!0,role:"tooltip",activatorProps:s.value,_disableGlobalStack:!0},o),{activator:t.activator,default:function(){var k;for(var g=arguments.length,d=new Array(g),i=0;i<g;i++)d[i]=arguments[i];return((k=t.default)==null?void 0:k.call(t,...d))??e.text}})}),ve({},v)}}),ra=ue({__name:"RouteControl",setup(e){const n=pt(),t=ht(),a=Le(),o=I([]),r=I(!1),f=I(!1),v=Ct(),c=yt();_t(()=>{o.value.forEach(d=>d.remove())});const p=d=>{const i=document.createElement("div");i.style.position="absolute";const k=Vt(la,{me:d,markers:o,cursor:F(()=>f.value?"pointer":"move"),onClick(){f.value&&(d.remove(),o.value.splice(o.value.indexOf(d),1),f.value=!1,s())}});return k&&(v!=null&&v.appContext)&&(k.appContext=v.appContext),wt(k,i),i},y=async([d,i],k=!1)=>{if(c.map&&n.map){const b=new be.Marker({draggable:!0,anchor:"center"});return b._element=p(b),b.setLngLat((k?kt(n.map,d,i):null)||[d,i]),b.on("dragend",s),b.addTo(c.map),b}return null},s=()=>{o.value.length>=2?a.push({name:"route",params:{places:o.value.map(d=>bt(n.map,d.getLngLat()).map(i=>i.toFixed(2)).join(";")||"")}}):t.name=="route"&&a.push({name:"home"})},m=async()=>{var d;(d=c.map)==null||d.once("click",async i=>{r.value=!1;const k=await y(i.lngLat.toArray());o.value.push(k),s()}),r.value=!0},g=()=>{f.value=!f.value};return B(()=>t.name,async()=>{var d;if(t.name=="route"&&t.params.places.length>=2&&o.value.length==0){for(const k in t.params.places){const b=t.params.places[k],S=await y(b.split(";").map(Number),!0);S&&o.value.push(S)}const i=o.value.reduce((k,b)=>k.extend(b.getLngLat()),new be.LngLatBounds(o.value[0].getLngLat()));(d=c.map)==null||d.fitBounds(i,{padding:100})}}),B(o.value,()=>{s()}),(d,i)=>{const k=G("mgl-button"),b=G("mgl-custom-control");return E(),z(b,{position:"top-right"},{default:P(()=>[u(Fe,{text:d.$t("add_pin_route")},{activator:P(({props:S})=>[u(k,O({type:"text"},S,{onClick:m}),{default:P(()=>[u(Q,null,{default:P(()=>[Y("mdi-map-marker-plus")]),_:1})]),_:2},1040)]),_:1},8,["text"]),u(Fe,{text:d.$t("remove_pin_route")},{activator:P(({props:S})=>[u(k,O({type:"text"},S,{onClick:g}),{default:P(()=>[u(Q,null,{default:P(()=>[Y("mdi-map-marker-remove")]),_:1})]),_:2},1040)]),_:1},8,["text"]),u(Pe,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=S=>r.value=S)},{default:P(()=>[Y(Ve(d.$t("click_pin_add")),1)]),_:1},8,["modelValue"]),u(Pe,{modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=S=>f.value=S)},{default:P(()=>[Y(Ve(d.$t("click_pin_remove")),1)]),_:1},8,["modelValue"])]),_:1})}}}),sa={};function ia(e,n){const t=G("router-view"),a=G("mgl-custom-control");return E(),z(a,{position:"bottom-left",noClasses:""},{default:P(()=>[u(t,{name:"controlInfo",class:"maplibregl-ctrl maplibregl-ctrl-group"},{default:P(({Component:o})=>[u(xt,{name:"slide"},{default:P(()=>[(E(),z(Pt(o)))]),_:2},1024)]),_:1})]),_:1})}const ca=St(sa,[["render",ia],["__scopeId","data-v-e87c5051"]]),ya=ue({__name:"MapControls",setup(e){const n=et();return(t,a)=>{const o=G("mgl-navigation-control"),r=G("mgl-custom-control");return E(),Me(q,null,[u(aa),u(ca),u(o,{position:"top-right",showCompass:""}),u(ra),u(r,{position:"bottom-right",noClasses:""},{default:P(()=>[u(Ce,{icon:"mdi-information",density:"compact",class:"bottom-right-ctrl",target:"_blank",href:"https://github.com/SimRoads"})]),_:1}),u(r,{position:"bottom-right",noClasses:""},{default:P(()=>[u(Ce,{icon:"mdi-cog",density:"compact",class:"bottom-right-ctrl",onClick:a[0]||(a[0]=f=>$(n).toggleSettingsDrawer())})]),_:1})],64)}}});export{ya as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
